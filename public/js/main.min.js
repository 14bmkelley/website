$(document).ready(function(){function t(t,n){var o={username:t,password:n};$.ajax({type:"POST",url:"/login",data:JSON.stringify(o),contentType:"application/json",success:function(t){t===!0?window.location.reload(!0):""===t?(alert("Sorry, we don't have that username on file"),$("#login").closest("div").find("input").first().val(""),$("#login").closest("div").find("input").first().next().val(""),$("#login").closest("div").find("input").first().focus()):t===!1&&(alert("Sorry, that password is incorrect."),$("#login").closest("div").find("input").first().next().val(""),$("#login").closest("div").find("input").first().next().focus())},error:function(t){console.log(t)}})}$("input").keypress(function(n){if(13==n.keyCode){n.preventDefault();var o=$(this).closest("div").find("button");if("login"===o.attr("id")){var i=$(this).closest("div").find("input"),e=i.first().val();if(""===e)return void alert("Please enter a username.");var a=i.last().val();if(""===a)return alert("Please enter a password"),void i.last().focus();var l=Sha256.hash(a);t(e,l)}}}),$("#login").click(function(){var n=$(this).closest("div").find("input"),o=n.first().val(),i=n.last().val(),e=Sha256.hash(i);t(o,e)}),$("#logout").click(function(){$.ajax({type:"GET",url:"/logout",success:function(){"/dashboard"===window.location.pathname||"/roster"===window.location.pathname?window.location="/":location.reload(!0)}})}),$("#add_link").click(function(){var t=$(this).closest("div").find("input").first().val().trim(),n=$(this).closest("div").find("input").last().val().trim(),o={label:t,url:n};$.ajax({type:"POST",url:"/addLink",data:JSON.stringify(o),contentType:"application/json",success:function(t){window.location.reload(!0)},error:function(t){console.log(t)}})}),$("#remove_link").click(function(){"Remove a link"==$(this).text()?($(".remove").show(),$(this).text("Done")):($(".remove").hide(),$(this).text("Remove a link"))}),$(".remove").click(function(){var t=$(this).closest("li").find("a").text(),n={label:t};$.ajax({type:"POST",url:"/removeLink",data:JSON.stringify(n),contentType:"application/json",success:function(t){window.location.reload(!0)},error:function(t){console.log(t)}})}),$("#addEvent").click(function(){var t=$("label[for='eventName']").find("input"),n=$("label[for='location']").find("input"),o=$("label[for='date']").find("input"),i=$("label[for='time']").find("input"),e=$("label[for='category']").find("select"),a=$("label[for='privacy']").find("select"),l=$("label[for='cost']").find("input"),s=$("label[for='description']").find("textarea"),r={name:t.val(),location:n.val(),date:o.val(),time:i.val(),category:e.val(),type:a.val(),cost:l.val(),description:s.val()};$.ajax({type:"POST",url:"/addEvent",data:JSON.stringify(r),contentType:"application/json",success:function(){window.location.reload(!0)},error:function(t){console.log(t)}})}),$("#removeEvent").click(function(){var t=window.location.pathname.substring(8,window.location.pathname.length);$.ajax({type:"POST",url:"/removeEvent",data:JSON.stringify({url:t}),contentType:"application/json",success:function(){window.location="/events"},error:function(t){console.log(t)}})}),$("#addAttendee").click(function(){var t=window.location.pathname.substring(8,window.location.pathname.length);$.ajax({type:"POST",url:"/addAttendee",data:JSON.stringify({url:t}),contentType:"application/json",success:function(){window.location.reload(!0)},error:function(t){console.log(t)}})}),$("#removeAttendee").click(function(){var t=window.location.pathname.substring(8,window.location.pathname.length);$.ajax({type:"POST",url:"/removeAttendee",data:JSON.stringify({url:t}),contentType:"application/json",success:function(){window.location.reload(!0)},error:function(t){console.log(t)}})}),$("#addPhoto").click(function(){var t=$("label[for='photo']").find("input"),n=t[0].files[0],o=new FileReader;o.readAsText(n),console.log(o.result)}),$(".event_thumb").mouseenter(function(){$(this).css("background","#FADDDD")}),$(".event_thumb").mouseleave(function(){$(this).css("background","#FFFFFF")}),$(".gallery_thumb").mouseenter(function(){$(this).css("background","#FADDDD")}),$(".gallery_thumb").mouseleave(function(){$(this).css("background","#FFFFFF")}),$(".hyper_select").find("div").mouseenter(function(){$(this).css("background","#FADDDD")}),$(".hyper_select").find("div").mouseleave(function(){$(this).css("background","#EAEAEA")}),$(".hyper_select").find("div").first().css("color","#FA0000"),$(".hyper_select").find("div").click(function(){if("rgb(0, 0, 0)"===$(this).css("color"))if($(this).closest(".hyper_select").find("div").css("color","#000000"),$(this).css("color","#FA0000"),console.log($(this).html()),"Hyperlink"===$(this).text())for(var t=$("tr").first(),n=$("tr").length,o=0;n>o;o++){var i=t.find("td").last().text();t.find("td").last().html("<a href='mailto:"+i+"'>"+i+"</a>"),t=8===o?$("tbody").last().find("tr").first():t.next()}else for(var t=$("tr").first(),n=$("tr").length,o=0;n>o;o++)t.find("td").last().html(t.find("td").last().find("a").text()),t=8===o?$("tbody").last().find("tr").first():t.next()})});